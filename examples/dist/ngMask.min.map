{"version":3,"sources":["ngMask.js"],"names":["angular","module","directive","$log","$timeout","MaskService","restrict","require","compile","$element","$attrs","mask","ngModel","info","promise","maskService","create","pre","$scope","controller","generateRegex","repeat","maskRepeat","clean","maskClean","limit","maskLimit","maskRestrict","validate","maskValidate","model","value","ngValue","post","then","parseViewValue","untouchedValue","viewValue","getViewValue","maskWithoutOptionals","options","viewValueWithDivisors","withDivisors","viewValueWithoutDivisors","withoutDivisors","regex","getRegex","length","fullRegex","validCurrentPosition","test","diffValueAndViewValueLengthIsOne","diffMaskAndViewValueIsGreaterThanZero","removeWrongPositions","lastCharInputed","lastCharGenerated","wrongPosition","getFirstWrongPosition","isDefined","setSelectionRange","$dirty","$isEmpty","$setValidity","$viewValue","copy","$render","e","error","selectionStart","cancel","timeout","selectionEnd","input","focus","createTextRange","range","collapse","moveEnd","moveStart","select","getOptions","$parsers","push","on","val","$apply","$watch","newValue","oldValue","$evalAsync","factory","$q","OptionalService","UtilService","generateIntermetiateElementRegex","i","forceOptional","charRegex","element","elementRegex","patterns","hasOptional","isOptional","source","isDivisor","divisors","divisorElements","RegExp","generateIntermetiateRegex","elementOptionalRegex","intermetiateElementRegex","currentRegex","maskWithoutOptionalsLength","intermetiateRegex","opts","deferred","defer","Array","parseInt","join","optionalIndexes","getOptionals","fromMaskWithoutOptionals","removeOptionals","cumulativeRegex","newRegex","generateOptionalDivisors","maskWithoutOptionalsAndDivisorsLength","removeDivisors","resolve","optionalDivisors","optionalDivisorsCombinations","reject","index","currentPos","inArray","sortNumber","a","b","sortedDivisors","sort","sortedOptionals","divisor","j","optional","concat","toString","keys","Object","elments","uniqueArray","replace","insertDivisors","array","combination","insert","output","out","splice","divs","filter","it","optionalDivisorsKeys","map","isArray","tryDivisorConfiguration","split","defaultDivisors","lazyArguments","lazyProduct","prototype","slice","call","arguments","outputClone","outputWithoutDivisors","capped","substr","getWrongPositions","onlyFirst","pos","pattern","wrongPositions","newViewValue","viewValueArray","9","8","7","6","5","4","3","2","1","0","*","w","W","d","D","s","S","A","Z","z","@","#","%","getOptionalsIndexes","indexes","regexp","match","exec","fromMask","getOptionalsRelativeMaskWithoutOptionals","optionals","newMask","sets","f","context","dive","len","lens","max","p","apply","pop","this","indexOf","u","l","hasOwnProperty"],"mappings":"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","file":"ngMask.min.js"}