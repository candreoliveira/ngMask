{"version":3,"file":"ngMask.min.js","sources":["ngMask.js"],"names":["angular","module","directive","$log","$timeout","MaskService","restrict","require","compile","$element","$attrs","setSelectionRange","selectionStart","cancel","timeout","selectionEnd","input","focus","createTextRange","range","collapse","moveEnd","moveStart","select","mask","ngModel","info","promise","maskService","create","pre","$scope","generateRegex","repeat","maskRepeat","clean","maskClean","limit","maskLimit","maskRestrict","validate","maskValidate","model","value","ngValue","post","controller","then","parseViewValue","viewValue","getViewValue","maskWithoutOptionals","options","viewValueWithDivisors","withDivisors","viewValueWithoutDivisors","withoutDivisors","regex","getRegex","length","fullRegex","validCurrentPosition","test","diffValueAndViewValueLengthIsOne","diffMaskAndViewValueIsGreaterThanZero","removeWrongPositions","lastCharInputed","lastCharGenerated","wrongPosition","getFirstWrongPosition","isDefined","$dirty","$isEmpty","$modelValue","$setValidity","$setViewValue","copy","$render","e","error","getOptions","$parsers","push","on","val","$apply","watcher","$watch","attrs","newValue","$evalAsync","factory","$q","OptionalService","UtilService","generateIntermetiateElementRegex","i","forceOptional","charRegex","element","elementRegex","patterns","hasOptional","isOptional","source","isDivisor","divisors","divisorElements","RegExp","generateIntermetiateRegex","elementOptionalRegex","intermetiateElementRegex","currentRegex","maskWithoutOptionalsLength","intermetiateRegex","opts","deferred","defer","Array","parseInt","join","optionalIndexes","getOptionals","fromMaskWithoutOptionals","removeOptionals","cumulativeRegex","newRegex","generateOptionalDivisors","maskWithoutOptionalsAndDivisorsLength","removeDivisors","resolve","optionalDivisors","optionalDivisorsCombinations","reject","index","currentPos","inArray","sortNumber","a","b","sortedDivisors","sort","sortedOptionals","divisor","j","optional","concat","keys","Object","elments","uniqueArray","replace","insertDivisors","array","combination","insert","output","out","splice","divs","filter","it","optionalDivisorsKeys","map","isArray","tryDivisorConfiguration","split","defaultDivisors","lazyArguments","lazyProduct","prototype","slice","call","arguments","outputClone","outputWithoutDivisors","capped","substr","getWrongPositions","onlyFirst","pos","pattern","wrongPositions","newViewValue","viewValueArray","9","8","7","6","5","4","3","2","1","0","*","w","W","d","D","s","S","A","Z","z","@","#","%","getOptionalsIndexes","indexes","regexp","match","exec","fromMask","getOptionalsRelativeMaskWithoutOptionals","optionals","newMask","sets","f","context","dive","len","lens","max","p","apply","pop","this","indexOf","u","l","hasOwnProperty"],"mappings":"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"}