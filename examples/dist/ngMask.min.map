{"version":3,"sources":["ngMask.js"],"names":["angular","module","directive","$log","$timeout","MaskService","restrict","require","compile","$element","$attrs","setSelectionRange","selectionStart","cancel","timeout","selectionEnd","input","focus","createTextRange","range","collapse","moveEnd","moveStart","select","mask","ngModel","info","promise","maskService","create","pre","$scope","controller","generateRegex","repeat","maskRepeat","clean","maskClean","limit","maskLimit","maskRestrict","validate","maskValidate","model","value","ngValue","$watch","newVal","oldVal","post","then","parseViewValue","untouchedValue","viewValue","getViewValue","maskWithoutOptionals","options","viewValueWithDivisors","withDivisors","viewValueWithoutDivisors","withoutDivisors","regex","getRegex","length","fullRegex","validCurrentPosition","test","diffValueAndViewValueLengthIsOne","diffMaskAndViewValueIsGreaterThanZero","removeWrongPositions","lastCharInputed","lastCharGenerated","wrongPosition","getFirstWrongPosition","isDefined","$dirty","$isEmpty","$setValidity","$viewValue","copy","$render","e","error","getOptions","$parsers","push","on","val","$apply","newValue","oldValue","$evalAsync","factory","$q","OptionalService","UtilService","generateIntermetiateElementRegex","i","forceOptional","charRegex","element","elementRegex","patterns","hasOptional","isOptional","source","isDivisor","divisors","divisorElements","RegExp","generateIntermetiateRegex","elementOptionalRegex","intermetiateElementRegex","currentRegex","maskWithoutOptionalsLength","opts","deferred","defer","Array","parseInt","join","optionalIndexes","getOptionals","fromMaskWithoutOptionals","removeOptionals","cumulativeRegex","newRegex","generateOptionalDivisors","maskWithoutOptionalsAndDivisorsLength","removeDivisors","resolve","optionalDivisors","optionalDivisorsCombinations","reject","index","currentPos","inArray","sortNumber","a","b","sortedDivisors","sort","sortedOptionals","divisor","j","optional","concat","toString","keys","Object","elments","uniqueArray","replace","insertDivisors","array","combination","insert","output","out","splice","divs","filter","it","optionalDivisorsKeys","map","isArray","tryDivisorConfiguration","split","defaultDivisors","lazyArguments","lazyProduct","prototype","slice","call","arguments","outputClone","outputWithoutDivisors","capped","substr","getWrongPositions","onlyFirst","pos","pattern","wrongPositions","newViewValue","viewValueArray","9","8","7","6","5","4","3","2","1","0","*","w","W","d","D","s","S","A","Z","z","@","#","%","getOptionalsIndexes","indexes","regexp","match","exec","fromMask","getOptionalsRelativeMaskWithoutOptionals","optionals","newMask","sets","f","context","dive","len","lens","max","p","apply","pop","this","indexOf","u","l","hasOwnProperty"],"mappings":"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","file":"ngMask.min.js"}